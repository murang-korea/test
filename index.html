<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<title>클리커 게임</title>

<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#111">

<style>
    body {
        margin: 0;
        background: #111;
        color: #fff;
        font-family: sans-serif;
        text-align: center;
        user-select: none;
    }

    h1 {
        margin-top: 30px;
    }

    #score {
        font-size: 40px;
        margin: 20px 0;
    }

    #clickArea {
        width: 220px;
        height: 220px;
        margin: 30px auto;
        border-radius: 50%;
        background: #ffae00;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 26px;
        font-weight: bold;
        color: #111;
        touch-action: manipulation;
    }

    button {
        width: 80%;
        max-width: 300px;
        padding: 15px;
        font-size: 18px;
        margin-top: 20px;
        border: none;
        border-radius: 12px;
        background: #00d2ff;
        color: #111;
    }
</style>
</head>
<body>

<h1>클리커 게임</h1>

<div id="score">0</div>

<div id="clickArea">TAP</div>

<button id="upgradeBtn">자동 +1 (비용: 20)</button>

<script>
let score = 0;
let auto = 0;
let upgradeCost = 20;

const scoreEl = document.getElementById("score");
const clickArea = document.getElementById("clickArea");
const upgradeBtn = document.getElementById("upgradeBtn");

clickArea.addEventListener("click", () => {
    score++;
    update();
});

upgradeBtn.addEventListener("click", () => {
    if (score >= upgradeCost) {
        score -= upgradeCost;
        auto++;
        upgradeCost = Math.floor(upgradeCost * 1.7);
        upgradeBtn.innerText = `자동 +1 (비용: ${upgradeCost})`;
        update();
    }
});

function update() {
    scoreEl.innerText = score;
}

setInterval(() => {
    score += auto;
    update();
}, 1000);

// PWA
if ("serviceWorker" in navigator) {
    navigator.serviceWorker.register("sw.js");
}
</script>

</body>
</html>
